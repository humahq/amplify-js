{"version":3,"file":"utils.mjs","sources":["../../../src/utils/utils.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { gunzip, strFromU8 } from 'fflate';\nexport const convert = async (stream) => {\n    if (stream instanceof Blob || stream instanceof ReadableStream) {\n        return new Response(stream)\n            .arrayBuffer()\n            .then(buffer => new Uint8Array(buffer));\n    }\n    else {\n        return Promise.reject(new Error('Invalid content type'));\n    }\n};\nexport const base64ToArrayBuffer = (base64) => {\n    return Uint8Array.from(window.atob(base64), c => c.charCodeAt(0));\n};\nexport const gzipDecompressToString = async (data) => {\n    return new Promise((resolve, reject) => {\n        gunzip(data, (err, resp) => {\n            if (err)\n                reject(err);\n            else\n                resolve(strFromU8(resp));\n        });\n    });\n};\n"],"names":[],"mappings":";;AAAA;AACA;AAEY,MAAC,OAAO,GAAG,OAAO,MAAM,KAAK;AACzC,IAAI,IAAI,MAAM,YAAY,IAAI,IAAI,MAAM,YAAY,cAAc,EAAE;AACpE,QAAQ,OAAO,IAAI,QAAQ,CAAC,MAAM,CAAC;AACnC,aAAa,WAAW,EAAE;AAC1B,aAAa,IAAI,CAAC,MAAM,IAAI,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;AACpD,KAAK;AACL,SAAS;AACT,QAAQ,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC,CAAC;AACjE,KAAK;AACL,EAAE;AACU,MAAC,mBAAmB,GAAG,CAAC,MAAM,KAAK;AAC/C,IAAI,OAAO,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AACtE,EAAE;AACU,MAAC,sBAAsB,GAAG,OAAO,IAAI,KAAK;AACtD,IAAI,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AAC5C,QAAQ,MAAM,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,IAAI,KAAK;AACpC,YAAY,IAAI,GAAG;AACnB,gBAAgB,MAAM,CAAC,GAAG,CAAC,CAAC;AAC5B;AACA,gBAAgB,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;AACzC,SAAS,CAAC,CAAC;AACX,KAAK,CAAC,CAAC;AACP;;;;"}