{"version":3,"file":"utils.native.mjs","sources":["../../../src/utils/utils.native.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { decode } from 'base-64';\nimport { ungzip } from 'pako';\nexport const convert = async (stream) => {\n    if (!(stream instanceof Blob)) {\n        return Promise.reject(new Error('Invalid content type'));\n    }\n    return new Promise((resolve, reject) => {\n        try {\n            const fileReaderInstance = new FileReader();\n            fileReaderInstance.readAsDataURL(stream);\n            fileReaderInstance.onload = async () => {\n                const blobURL = fileReaderInstance.result;\n                const base64Blob = blobURL.split(/,(.*)/s)[1];\n                const decodedArrayBuffer = base64ToArrayBuffer(base64Blob);\n                resolve(decodedArrayBuffer);\n            };\n        }\n        catch (error) {\n            reject(new Error('unable to convert blob to arrayBuffer: ' + error));\n        }\n    });\n};\nexport const base64ToArrayBuffer = (base64) => {\n    const binaryString = decode(base64);\n    return Uint8Array.from(binaryString, c => c.charCodeAt(0));\n};\nexport const gzipDecompressToString = async (data) => {\n    return new Promise((resolve, reject) => {\n        try {\n            const result = ungzip(data, { to: 'string' });\n            resolve(result);\n        }\n        catch (error) {\n            reject(new Error('unable to decompress' + error));\n        }\n    });\n};\n"],"names":[],"mappings":";;;AAAA;AACA;AAGY,MAAC,OAAO,GAAG,OAAO,MAAM,KAAK;AACzC,IAAI,IAAI,EAAE,MAAM,YAAY,IAAI,CAAC,EAAE;AACnC,QAAQ,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC,CAAC;AACjE,KAAK;AACL,IAAI,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AAC5C,QAAQ,IAAI;AACZ,YAAY,MAAM,kBAAkB,GAAG,IAAI,UAAU,EAAE,CAAC;AACxD,YAAY,kBAAkB,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;AACrD,YAAY,kBAAkB,CAAC,MAAM,GAAG,YAAY;AACpD,gBAAgB,MAAM,OAAO,GAAG,kBAAkB,CAAC,MAAM,CAAC;AAC1D,gBAAgB,MAAM,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9D,gBAAgB,MAAM,kBAAkB,GAAG,mBAAmB,CAAC,UAAU,CAAC,CAAC;AAC3E,gBAAgB,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAC5C,aAAa,CAAC;AACd,SAAS;AACT,QAAQ,OAAO,KAAK,EAAE;AACtB,YAAY,MAAM,CAAC,IAAI,KAAK,CAAC,yCAAyC,GAAG,KAAK,CAAC,CAAC,CAAC;AACjF,SAAS;AACT,KAAK,CAAC,CAAC;AACP,EAAE;AACU,MAAC,mBAAmB,GAAG,CAAC,MAAM,KAAK;AAC/C,IAAI,MAAM,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;AACxC,IAAI,OAAO,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/D,EAAE;AACU,MAAC,sBAAsB,GAAG,OAAO,IAAI,KAAK;AACtD,IAAI,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AAC5C,QAAQ,IAAI;AACZ,YAAY,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC;AAC1D,YAAY,OAAO,CAAC,MAAM,CAAC,CAAC;AAC5B,SAAS;AACT,QAAQ,OAAO,KAAK,EAAE;AACtB,YAAY,MAAM,CAAC,IAAI,KAAK,CAAC,sBAAsB,GAAG,KAAK,CAAC,CAAC,CAAC;AAC9D,SAAS;AACT,KAAK,CAAC,CAAC;AACP;;;;"}